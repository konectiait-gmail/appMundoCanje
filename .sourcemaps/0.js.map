{"version":3,"sources":["../../src/pages/modal-notification/modal-notification.module.ts","../../src/pages/modal-notification/modal-notification.ts"],"names":[],"mappings":"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","file":"0.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { ModalNotificationPage } from './modal-notification';\n\n@NgModule({\n  declarations: [\n    ModalNotificationPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(ModalNotificationPage),\n  ],\n})\nexport class ModalNotificationPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/modal-notification/modal-notification.module.ts","import { Component } from '@angular/core';\nimport { IonicPage,ToastController, NavController, NavParams, ViewController  } from 'ionic-angular';\nimport { ProductServiceProvider } from '../../providers/product-service/product-service';\nimport { GlobalProvider } from \"../../providers/global/global\";\nimport { PedidosServiceProvider } from '../../providers/pedidos-service/pedidos-service';\nimport { GlobalPedidoProvider } from '../../providers/global-pedido/global-pedido';\nimport { NotificationServiceProvider } from '../../providers/notification-service/notification-service';\nimport { CanjesPage } from '../canjes/canjes';\nimport { TabsPage } from '../tabs/tabs';\n\n@IonicPage()\n@Component({\n  selector: 'page-modal-notification',\n  templateUrl: 'modal-notification.html',\n})\nexport class ModalNotificationPage {\n  CanjesLst;\n  IdProducto;\n  chkProduct;\n\n  constructor(private navParams: NavParams,public toastController: ToastController,public navCtrl: NavController,public pedido: GlobalPedidoProvider, public pedidoService:PedidosServiceProvider, private view: ViewController, public serviceProd: ProductServiceProvider, private user:GlobalProvider, public pushNotif:NotificationServiceProvider) {\n    this.IdProducto = this.navParams.get('idProd');        \n    this.getOfrecidos(this.user.Id);\n  }\n  SetProductChecked(ProdChk){\n    console.log(\"El art checked es:\"+ProdChk);\n    this.pedido.ImagenMatch=ProdChk.Imagen;\n    this.pedido.ProductoNombreMatch=ProdChk.Nombre;\n    this.pedido.ProductoDescripcionMatch=ProdChk.Nombre;\n    this.pedido.IdProductoMatch = ProdChk.Id;\n    this.pedido.Importe = parseFloat(ProdChk.Importe);\n    \n  }\n  \n\n  SendNotification(vComentarios, vImporte){\n    this.pedido.Id=\"0\";\n    this.pedido.IdProducto=this.IdProducto; //Poner id que devuelve el data\n    this.pedido.IdPedido_Estado=\"3\";\n    var myDate: string = new Date().toDateString();\n    this.pedido.FechaPedido=myDate;\n/*\n    this.pedido.ImagenMatch=\"\";\n    this.pedido.ProductoNombreMatch=\"\";\n    this.pedido.ProductoDescripcionMatch=\"\";\n    */\n    this.pedido.CategoriaMatch=\"1\";\n\n    //vImporte = vImporte.replace(\"$\",\"\");\n\n    //this.pedido.Comentarios=vComentarios;\n    //this.pedido.Importe=vImporte;\n    this.pedido.IdUsuario=this.user.Id;\n\n    this.pedidoService.postPedido(this.pedido)        \n          .subscribe(\n              (data)=> {\n                \n                this.pushNotif.SendNotificationPush(\"Solicitud recibida\", \"Nueva solicitud de Canje\")        \n                .subscribe(\n                    (data)=> {\n                      \n                      this.presentToast();                \n                      this.navCtrl.setRoot(TabsPage);\n                    },\n                    (error)=>{console.log(\"ERROR al enviar la push notification: \" + error);}\n                )                 \n              },\n              (error)=>{console.log(\"ERROR en Save to DB: \" + error);}\n          ) \n    \n  } \n  async presentToast() {\n    const toast = await this.toastController.create({\n      message: 'Se enviÃ³ la solicitud.',\n      duration: 3000\n    });\n    toast.present();\n  }\n\n  ionViewWillLoad() {\n    const data = this.navParams.get('data');\n    console.log(data);\n  }\n\n  closeModal() {\n    const data = {\n      name: 'John Doe',\n      occupation: 'Milkman'\n    };\n    this.view.dismiss(data);\n  }\n\n  getOfrecidos(idUsuario) {    \n    this.serviceProd.getProductByUser(idUsuario)        \n    .subscribe(\n        (data:any)=> {\n          this.CanjesLst = data;\n        },\n        (error)=>{console.log(error);}\n    )  \n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/modal-notification/modal-notification.ts"],"sourceRoot":""}